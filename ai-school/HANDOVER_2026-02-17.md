# Handover (2026-02-17)

## 1) 今日の確定事項
- GitHub `main` への push は完了済み
  - Repo: `git@github.com:ymizutani215/eeeemoai-school.git`
  - Latest commit: `d94f0c360d1b1b3b17698aa0288c2580d9330f86`
- `mp4` を Git 管理から除外済み
  - Added: `.gitignore` (`ai-school/videos/*.mp4`)
  - Commit includes only:
    - `.gitignore`
    - `ai-school/app.js`
    - `ai-school/courses.json`
    - `ai-school/courses.template.json`

## 2) 本番が更新されていない理由
- 本番URL `https://eeeemo-aischool.web.app` は Firebase Hosting。
- `git push` だけでは公開内容は更新されない（`firebase deploy` が別途必要）。
- この環境では Firebase 認証期限切れで deploy 失敗。
  - Error: `Your credentials are no longer valid. Please run firebase login --reauth`

## 3) 動画再生の現行仕様
- `courses.json` の `video` は相対パス（例: `./videos/xxx.mp4`）。
- `app.js` で `videoPlayer.src = course.video` をセット。
- つまりブラウザは `https://eeeemo-aischool.web.app/videos/xxx.mp4` を参照する。
- 現時点で動画URLは 404（配信先にファイルがない状態）。

## 4) 次環境で最優先でやること
1. Firebase プロジェクト権限者でログイン
2. Hosting を deploy
3. 公開後に `courses.json` と動画URLを検証

```bash
cd /home/kogis/eeeemoai-school/ai-school
firebase login --reauth
bash tools/firebase_deploy.sh
```

## 5) 公開後チェックコマンド
```bash
curl -I -s https://eeeemo-aischool.web.app | head -n 1
curl -I -s https://eeeemo-aischool.web.app/courses.json | head -n 1
curl -I -s 'https://eeeemo-aischool.web.app/videos/%E5%8B%95%E7%94%BB03_%E3%83%97%E3%83%AD%E3%83%B3%E3%83%97%E3%83%88%E3%81%AE%E9%BB%84%E9%87%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88_pdf.mp4' | head -n 1
```

期待値:
- root: `HTTP/2 200`
- courses: `HTTP/2 200`（内容が新コース: 動画03〜10）
- video03: `HTTP/2 200`（404なら動画未配置）

## 6) デプロイ担当者への依頼テンプレ
```text
GitHub main は最新（d94f0c3）です。
本番 https://eeeemo-aischool.web.app は Firebase Hosting 側が未反映です。
ai-school ディレクトリで以下を実行して deploy してください:

firebase login --reauth
bash tools/firebase_deploy.sh

なお、動画は Git 管理から外しているため、
Hosting 側に ai-school/videos/*.mp4 を配置しないと動画は 404 になります。
```

